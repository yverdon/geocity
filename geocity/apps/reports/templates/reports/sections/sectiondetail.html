{% extends "reports/sections/_section.html" %}

{% block title %}
    {{section.title}}
{% endblock %}

{% block content %}
    {% if request_data.properties.submission_fields %}
        <div class="flex_container">
            {% if section.style == 0 %}
            {% for form, fields in request_data.properties.submission_fields.items %}
                {% if section.show_form_name %}
                    <div class="flex_item-100"><h3>{{ form }}</h3></div>
                {% endif %}
                {% for key, field in fields.items %}
                    {% if not key in section.undesired_properties %}
                        <div class="flex_item-100" style="padding-top:{{section.line_height}}px;"><span class="bold">{{key}} : </span>
                            {% for value in field %}
                                {% if value|length > 1 %}
                                    {% if not forloop.last %}
                                        {{value}};
                                    {% else %}
                                        {{value}}
                                    {% endif %}
                                {% elif forloop.first %}
                                    {{field}}
                                {% endif %}
                            {% endfor %}
                        <br></div>
                    {% endif %}
                {% endfor %}
            {% endfor %}
            {% elif  section.style == 1 %}
                {% for form, fields in request_data.properties.submission_fields.items %}
                    {% if section.show_form_name %}
                        <div class="flex_item-100"><h3>{{form}}</h3></div>
                    {% endif %}
                    {% for key, field in fields.items %}
                        {% if not key in section.undesired_properties %}
                            <div class="flex_item-40"><span class="bold">{{key}}</span></div>
                            <div class="flex_item-60">
                                {% for value in field %}
                                    {% if value|length > 1 %}
                                        • {{value}}<br>
                                    {% elif forloop.first %}
                                        {{field}}
                                    {% endif %}
                                {% endfor %}
                            </div>
                            <div style="padding-top:{{section.line_height}}px;"></div>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% endif %}
        </div>
    {% else %}
        <p>Aucune propriété pour cette demande</p>
    {% endif %}
{% endblock %}
