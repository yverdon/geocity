{% load static %}

<ul class="progress-nav mb-4">
  {% for step_key, step in steps.items %}
    <li class="progress-nav-item
      {% if step_key == active_step %} progress-nav-item-active{% endif %}
      {% if step.enabled %}progress-nav-item-enabled{% endif %}
      {% if step.completed %}progress-nav-item-done{% endif %}
      {% if step.errors %}progress-nav-item-partial{% endif %}
      ">
      {% if step.url %}
        <a class="progress-nav-link" href="{{ step.url }}">
      {% endif %}

      <div class="circle">
        {% if step.errors %}<div class="pill">{{ step.errors|length }}</div>{% endif %}
        <div class="circle-inner">
          {{ forloop.counter }}
        </div>
      </div>
      <br>
      {{ step.name }}

      {% if step.url %}
        </a>
      {% endif %}
      </a>
    </li>
  {% endfor %}
</ul>
